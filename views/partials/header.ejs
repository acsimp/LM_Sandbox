<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Little Maven</title>


  <meta name="theme-color" content="#000000">
  <!--
      manifest.json provides metadata used when your web app is added to the
      homescreen on Android. See https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/
    -->
  <link rel="manifest" href="/manifest.json">
  <link rel="shortcut icon" href="/favicon.ico">
  <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.
      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->




  <!-- fonts and icons -->

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster">
  <link href="https://fonts.googleapis.com/css?family=Barlow:100,100i,300,300i,400,400i,500,500i" rel="stylesheet">  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">





  <!--MCD core files-->
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css">
      <!--<script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js" type="text/javascript" async></script>-->
          <!--not required-->
      <!--    <script src="/js/ready.js"></script>-->
      <!--    <link rel="stylesheet" type="text/css" href="/stylesheets/top-app-bar.css">-->


  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" type="text/javascript" async></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  <!-- Stylesheets -->
  <!--<link rel="stylesheet" type="text/css" href="../../stylesheets/main.css">-->
  <link rel="stylesheet" type="text/css" href="/stylesheets/main.css">
  <!--link a page specific stylesheet based on route attribute "page" e.g. res.render("login", {page: 'login'});-->
  <% if (typeof page !== 'undefined') { %>
    <link rel="stylesheet" type="text/css" href="/stylesheets/<%= typeof page !== 'undefined' ? page : '' %>.css">
    <% } %>


</head>

<body class="">

  <header id="navbar">

    <div class="branch-journeys-top"></div>

    <div id="mobileMenuBG"></div>
    <div class="mobileMenuOuter">
      <div id="search" onclick="searchMenuFn()">
        <!--<img src="baseline-search-24px.svg" alt="search" id="searchIcon">-->
        <i class="material-icons" id="searchIcon">search</i>
        <!--<img src="baseline-close-24px.svg" alt="close" class="displayNone" id="closeSearchIcon">-->
        <i class="material-icons displayNone" id="closeSearchIcon">close</i>

      </div>
      <div id="hamburger">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </div>

      <a id="navBrand" href="/"><img class="" src="/images/Little Maven Logo-White.svg" /></a>

      <div class="mobileMenuInner">
        <ul>
          <li>
            <a href="/places">DB Places</a>
          </li>
          <li>
            <a href="/a-places/a-map">Add to DB</a>
          </li>
          <% if(!currentUser){ %>
            <li>
              <a class="<%= typeof page !== 'undefined' && page === 'register' ? 'active' : '' %>" href="/register">Sign Up</a>
            </li>
            <li>
              <a class="<%= typeof page !== 'undefined' && page === 'login' ? 'active' : '' %> " href="/login">Login</a>
            </li>
            <% }else{ %>
              <li>
                <a class="" href="/users/<%= currentUser._id %>"><span id="username"> <%= currentUser.firstname %></span></a>
                <!--<a class="" href="/users/<%= //currentUser._id %>"><figure class="avatar avatar" data-initial="A"></figure> <span id="username"> <%= //currentUser.username %></span></a>-->
              </li>
              <li>
                <a class="" href="/logout">Logout</a>
              </li>
              <% } %>
        </ul>

      </div>
    </div>

    <!-- navbar search menu -->

    <div id="searchMenuBG"></div>
    
    <div class="" id="searchMenu">
      <div class="mobileMenuOuter">
      <a id="navBrand" href="/"><img class="" src="/images/Little Maven Logo-Teal.svg"></a>
      </div>
      <div class="container">
      <form id="navSearchForm" class="" action="/places" autocomplete="off" method="GET">
                        <div class="search" id="navSearchDiv">
                                    <input class="" id="navLatitide" type="hidden" name="lat" placeholder="latitide" value="" >
                                    <input class="" id="navLongitude" type="hidden" name="lng" placeholder="longitude" value="">

                                 <div class="right-side searchItem" id="navFindDiv">
                                    <input class="field location" type="text" name="search" autocomplete="off" placeholder="name, category, cuisine..." value="">
                                    <div class="field-wrapper">
                                      <span class="field-title near">Find</span>
                                    </div>
                                  </div>   
                                <div class="right-side near_field searchItem" id="navLocationDiv">
                                    <input class="field location" type="text" name="geocoder" id="navGeocoder" autocomplete="off" placeholder="address, neighbouthood, city, postcode" aria-label="navGeocoder" value="">
                                    <div class="field-wrapper">
                                      <span class="field-title near">Near</span>
                                    </div>
                                    <ul class="right-side__sublist">
                                      <li class="right-side__subitem"><a class="right-side__sublink current" id="navNearMeBtn" onclick="navGetLocation()">Near Me</a></li>
                                    </ul>
                                  </div>
                                    <div class="distKm searchItem" id="navDistKmDiv">
                                    <input class="field location" id="navDistKm" type="number" name="distKm" autocomplete="off" placeholder="km" value="">
                                    <div class="field-wrapper">
                                      <span class="field-title near">Km</span>
                                    </div>
                                  </div>   
                                    
                                <div class="searchItem" id="navSearchBtnDiv">
                                    <input class="search-button btn" type="button" onclick="navSubmitFn()" value="Search">
                                </div>
                            
                        </div>
                    </form>
                            <script src="https://cdn.apple-mapkit.com/mk/5.x.x/mapkit.js"></script>

                    <div id="navCoords"></div>
                    </div>
    </div>


  </header>


  <script src="/js/navbar.js"></script>

  <!-- flash messages -->
  <% if(error && error.length > 0){ %>
    <div class="alert alert-danger" role="alert">
      <%= error %>
    </div>
    <% } %>
      <% if(success && success.length > 0){ %>
        <div class="alert alert-success" role="alert">
          <%= success %>
        </div>
        <% } %>
